@using Engnest.Entities.Common;
@model Engnest.Entities.ViewModels.ProfileModel
<style>
	#pac-input {
		width: 300px;
		top: 10px !important;
	}
		.ui.normal.dropdown{
			width:100%;
		}
		.ui.normal.dropdown .disabled {
			color: #4267b2 !important;
			background: #e0e1e2 !important;
			opacity: 1!important;
		}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.css">
<div class="content-container container" style="transform: none;">
	<div class="ad-placement-header-footer">
	</div>
	<div id="contnet" style="transform: none;">
		<div class="page-margin" style="transform: none;">
			<div class="row" style="transform: none;">
				<div class="col-md-2 leftcol" style="position: relative; overflow: visible; box-sizing: border-box; min-height: 525px;">
					<div class="theiaStickySidebar" style="padding-top: 0px; padding-bottom: 0px; position: fixed; transform: translateY(65px); left: 99px; top: 0px; width: 156.719px;">
						<div class="left-sidebar">
							<ul>
								<li>
									<a href="/profile?id=@Model.ID" data-ajax="?link1=timeline&amp;u=0dc53e223">
										<img alt="@Model.NickName Picture" src="@Model.Avatar">@Model.NickName
									</a>
								</li>
								<li>
									<a href="/" data-ajax="?index.php?link1=home">
										<img style="margin-top: -8px;" src="/assets/images/logoEngnest.png" alt="Mạng Xã Hội Việt Nam Logo"> News Feed
									</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="col-md-10 singlecol">
					<div class="sun_setting_header">
						<div class="ss_innr">
							<h3>User Settings</h3>
							<div class="sun_set_avatr">
								<a href="/profile?id=@Model.ID">
									<img src="@Model.Avatar" alt="@Model.NickName">
									@Model.NickName
								</a>
							</div>
						</div>
						<div class="sun_sett_circle-1"></div>
						<div class="sun_sett_circle-2"></div>
						<div class="sun_sett_circle-3"></div>
					</div>
					<div class="row sun_setting_body">
						<div class="col-md-12 col-sm-12">
							<div class="wo_settings_page sun_sett_page">
								<h3>General Setting</h3>

								<form class="setting-general-form form-horizontal" method="post">
									<div class="setting-general-alert setting-update-alert"></div>

									<!-- Text input-->
									<div class="setting-panel row">
										<div class="avatar-holder row">
											<img src="@Model.Avatar" alt="@Model.NickName" class="avatar pull-left">
											<div class="infoz pull-left">
												<strong title="@Model.NickName"><a href="/profile?id=@Model.ID">@Model.NickName</a></strong>
											</div>
										</div>
										<hr>
										<div class="sun_input col-lg-6">
											<input id="username" disabled name="username" type="text" class="form-control input-md" value="@Model.UserName" placeholder="">
											<label class="plr15" for="username">Username</label>
										</div>
										<div class="sun_input col-lg-6">
											<input name="email" id="email" type="email" class="form-control input-md" value="@Model.Email" autocomplete="off" placeholder="E-mail">
											<label class="plr15" for="email">E-mail</label>
										</div>
										<div class="sun_input col-lg-6">
											<input id="old_password" name="old_password" type="password" placeholder="Password" class="form-control input-md">
											<label class="plr15" for="old_password">Old password:</label>
										</div>
										<div class="sun_input col-lg-6">
											<input id="your_name" name="your_name" type="text" class="form-control input-md" maxlength="20" value="@Model.NickName" placeholder="Your name">
											<label class="plr15" for="your_name">Your name</label>
										</div>
										<div class="sun_input col-lg-6" style="height: 35px;">
										</div>
										<div class="sun_input col-lg-6">
											<input id="new_password" name="new_password" type="password" placeholder="" class="form-control input-md">
											<label class="plr15" for="new_password">Create your new password:</label>
										</div>
										<div class="sun_input col-lg-6">
											<input id="repeat_new_password" name="repeat_new_password" type="password" placeholder="" class="form-control input-md">
											<label class="plr15" for="repeat_new_password">Repeat password:</label>
										</div>
										<div class="clear"></div>
										<div class="sun_input col-lg-6">
											<input name="phone" id="phone" type="phone_number" class="form-control input-md" value="@Model.Phone" autocomplete="off" placeholder="Phone">
											<label class="plr15" for="phone_number">Phone</label>
										</div>
										<div class="sun_input col-lg-6">
											@{
												var birthday = Model.Birthday?.ToString("dd/MM/yyyy");
												<input id="birthday" name="birthday" type="text" class="form-control input-md hasDatepicker" placeholder="Birthday" autocomplete="off" value="@birthday">
												<label class="plr15" for="birthday">Birthday</label>
											}
										</div>
									</div>
									<hr>

									<!-- Select Basic -->
									<div class="setting-panel row">
										<div class="sun_input col-lg-6">
											<select id="country" name="country" class="form-control">
												<option value="0">Select Country</option>
												<option value="1">United States</option>
												<option value="2">Canada</option>
												<option value="3">Afghanistan</option>
												<option value="4">Albania</option>
												<option value="5">Algeria</option>
												<option value="6">American Samoa</option>
												<option value="7">Andorra</option>
												<option value="8">Angola</option>
												<option value="9">Anguilla</option>
												<option value="10">Antarctica</option>
												<option value="11">Antigua and/or Barbuda</option>
												<option value="12">Argentina</option>
												<option value="13">Armenia</option>
												<option value="14">Aruba</option>
												<option value="15">Australia</option>
												<option value="16">Austria</option>
												<option value="17">Azerbaijan</option>
												<option value="18">Bahamas</option>
												<option value="19">Bahrain</option>
												<option value="20">Bangladesh</option>
												<option value="21">Barbados</option>
												<option value="22">Belarus</option>
												<option value="23">Belgium</option>
												<option value="24">Belize</option>
												<option value="25">Benin</option>
												<option value="26">Bermuda</option>
												<option value="27">Bhutan</option>
												<option value="28">Bolivia</option>
												<option value="29">Bosnia and Herzegovina</option>
												<option value="30">Botswana</option>
												<option value="31">Bouvet Island</option>
												<option value="32">Brazil</option>
												<option value="34">Brunei Darussalam</option>
												<option value="35">Bulgaria</option>
												<option value="36">Burkina Faso</option>
												<option value="37">Burundi</option>
												<option value="38">Cambodia</option>
												<option value="39">Cameroon</option>
												<option value="40">Cape Verde</option>
												<option value="41">Cayman Islands</option>
												<option value="42">Central African Republic</option>
												<option value="43">Chad</option>
												<option value="44">Chile</option>
												<option value="45">China</option>
												<option value="46">Christmas Island</option>
												<option value="47">Cocos (Keeling) Islands</option>
												<option value="48">Colombia</option>
												<option value="49">Comoros</option>
												<option value="50">Congo</option>
												<option value="51">Cook Islands</option>
												<option value="52">Costa Rica</option>
												<option value="53">Croatia (Hrvatska)</option>
												<option value="54">Cuba</option>
												<option value="55">Cyprus</option>
												<option value="56">Czech Republic</option>
												<option value="57">Denmark</option>
												<option value="58">Djibouti</option>
												<option value="59">Dominica</option>
												<option value="60">Dominican Republic</option>
												<option value="61">East Timor</option>
												<option value="62">Ecuador</option>
												<option value="63">Egypt</option>
												<option value="64">El Salvador</option>
												<option value="65">Equatorial Guinea</option>
												<option value="66">Eritrea</option>
												<option value="67">Estonia</option>
												<option value="68">Ethiopia</option>
												<option value="69">Falkland Islands (Malvinas)</option>
												<option value="70">Faroe Islands</option>
												<option value="71">Fiji</option>
												<option value="72">Finland</option>
												<option value="73">France</option>
												<option value="74">France, Metropolitan</option>
												<option value="75">French Guiana</option>
												<option value="76">French Polynesia</option>
												<option value="77">French Southern Territories</option>
												<option value="78">Gabon</option>
												<option value="79">Gambia</option>
												<option value="80">Georgia</option>
												<option value="81">Germany</option>
												<option value="82">Ghana</option>
												<option value="83">Gibraltar</option>
												<option value="84">Greece</option>
												<option value="85">Greenland</option>
												<option value="86">Grenada</option>
												<option value="87">Guadeloupe</option>
												<option value="88">Guam</option>
												<option value="89">Guatemala</option>
												<option value="90">Guinea</option>
												<option value="91">Guinea-Bissau</option>
												<option value="92">Guyana</option>
												<option value="93">Haiti</option>
												<option value="94">Heard and Mc Donald Islands</option>
												<option value="95">Honduras</option>
												<option value="96">Hong Kong</option>
												<option value="97">Hungary</option>
												<option value="98">Iceland</option>
												<option value="99">India</option>
												<option value="100">Indonesia</option>
												<option value="101">Iran (Islamic Republic of)</option>
												<option value="102">Iraq</option>
												<option value="103">Ireland</option>
												<option value="104">Israel</option>
												<option value="105">Italy</option>
												<option value="106">Ivory Coast</option>
												<option value="107">Jamaica</option>
												<option value="108">Japan</option>
												<option value="109">Jordan</option>
												<option value="110">Kazakhstan</option>
												<option value="111">Kenya</option>
												<option value="112">Kiribati</option>
												<option value="113">Korea, Democratic People's Republic of</option>
												<option value="114">Korea, Republic of</option>
												<option value="115">Kosovo</option>
												<option value="116">Kuwait</option>
												<option value="117">Kyrgyzstan</option>
												<option value="118">Lao People's Democratic Republic</option>
												<option value="119">Latvia</option>
												<option value="120">Lebanon</option>
												<option value="121">Lesotho</option>
												<option value="122">Liberia</option>
												<option value="123">Libyan Arab Jamahiriya</option>
												<option value="124">Liechtenstein</option>
												<option value="125">Lithuania</option>
												<option value="126">Luxembourg</option>
												<option value="127">Macau</option>
												<option value="128">Macedonia</option>
												<option value="129">Madagascar</option>
												<option value="130">Malawi</option>
												<option value="131">Malaysia</option>
												<option value="132">Maldives</option>
												<option value="133">Mali</option>
												<option value="134">Malta</option>
												<option value="135">Marshall Islands</option>
												<option value="136">Martinique</option>
												<option value="137">Mauritania</option>
												<option value="138">Mauritius</option>
												<option value="139">Mayotte</option>
												<option value="140">Mexico</option>
												<option value="141">Micronesia, Federated States of</option>
												<option value="142">Moldova, Republic of</option>
												<option value="143">Monaco</option>
												<option value="144">Mongolia</option>
												<option value="145">Montenegro</option>
												<option value="146">Montserrat</option>
												<option value="147">Morocco</option>
												<option value="148">Mozambique</option>
												<option value="149">Myanmar</option>
												<option value="150">Namibia</option>
												<option value="151">Nauru</option>
												<option value="152">Nepal</option>
												<option value="153">Netherlands</option>
												<option value="154">Netherlands Antilles</option>
												<option value="155">New Caledonia</option>
												<option value="156">New Zealand</option>
												<option value="157">Nicaragua</option>
												<option value="158">Niger</option>
												<option value="159">Nigeria</option>
												<option value="160">Niue</option>
												<option value="161">Norfork Island</option>
												<option value="162">Northern Mariana Islands</option>
												<option value="163">Norway</option>
												<option value="164">Oman</option>
												<option value="165">Pakistan</option>
												<option value="166">Palau</option>
												<option value="167">Panama</option>
												<option value="168">Papua New Guinea</option>
												<option value="169">Paraguay</option>
												<option value="170">Peru</option>
												<option value="171">Philippines</option>
												<option value="172">Pitcairn</option>
												<option value="173">Poland</option>
												<option value="174">Portugal</option>
												<option value="175">Puerto Rico</option>
												<option value="176">Qatar</option>
												<option value="177">Reunion</option>
												<option value="178">Romania</option>
												<option value="179">Russian Federation</option>
												<option value="180">Rwanda</option>
												<option value="181">Saint Kitts and Nevis</option>
												<option value="182">Saint Lucia</option>
												<option value="183">Saint Vincent and the Grenadines</option>
												<option value="184">Samoa</option>
												<option value="185">San Marino</option>
												<option value="186">Sao Tome and Principe</option>
												<option value="187">Saudi Arabia</option>
												<option value="188">Senegal</option>
												<option value="189">Serbia</option>
												<option value="190">Seychelles</option>
												<option value="191">Sierra Leone</option>
												<option value="192">Singapore</option>
												<option value="193">Slovakia</option>
												<option value="194">Slovenia</option>
												<option value="195">Solomon Islands</option>
												<option value="196">Somalia</option>
												<option value="197">South Africa</option>
												<option value="198">South Georgia South Sandwich Islands</option>
												<option value="199">Spain</option>
												<option value="200">Sri Lanka</option>
												<option value="201">St. Helena</option>
												<option value="202">St. Pierre and Miquelon</option>
												<option value="203">Sudan</option>
												<option value="204">Suriname</option>
												<option value="205">Svalbarn and Jan Mayen Islands</option>
												<option value="206">Swaziland</option>
												<option value="207">Sweden</option>
												<option value="208">Switzerland</option>
												<option value="209">Syrian Arab Republic</option>
												<option value="210">Taiwan</option>
												<option value="211">Tajikistan</option>
												<option value="212">Tanzania, United Republic of</option>
												<option value="213">Thailand</option>
												<option value="214">Togo</option>
												<option value="215">Tokelau</option>
												<option value="216">Tonga</option>
												<option value="217">Trinidad and Tobago</option>
												<option value="218">Tunisia</option>
												<option value="219">Turkey</option>
												<option value="220">Turkmenistan</option>
												<option value="221">Turks and Caicos Islands</option>
												<option value="222">Tuvalu</option>
												<option value="223">Uganda</option>
												<option value="224">Ukraine</option>
												<option value="225">United Arab Emirates</option>
												<option value="226">United Kingdom</option>
												<option value="227">United States minor outlying islands</option>
												<option value="228">Uruguay</option>
												<option value="229">Uzbekistan</option>
												<option value="230">Vanuatu</option>
												<option value="231">Vatican City State</option>
												<option value="232">Venezuela</option>
												<option value="233">Vietnam</option>
												<option value="238">Yemen</option>
												<option value="239">Yugoslavia</option>
												<option value="240">Zaire</option>
												<option value="241">Zambia</option>
												<option value="242">Zimbabwe</option>
											</select>
											<label class="plr15" for="country">Country</label>
										</div>

										<!-- Multiple Radios (inline) -->
										<div class="sun_input col-lg-6">
											<label class="plr15" for="gender">Gender</label>
											<select id="gender" name="gender" class="form-control">
												<option value="female">Female</option>
												<option value="male" selected="">Male</option>
											</select>
										</div>
									</div>

									<div class="setting-panel row">
										<div class="sun_input col-lg-6">
											<select id="relationship" name="relationship" class="form-control">
												<option value="0">None</option>
												<option value="1">Single</option>
												<option value="2">In a relationship</option>
												<option value="3">Married</option>
												<option value="4">Engaged</option>
											</select>
											<label class="plr15" for="relationship">Relationship</label>
										</div>
										<div class="sun_input col-lg-6">
											<select style="width:100%;margin-bottom:10px;" multiple="" id="Hobbyist" name="Hobbyist" class="ui normal dropdown">
												<option disabled value="">Hobbyist</option>
												<option disabled value="Sciences">Sciences</option>
												<option value="Mathematics">Mathematics</option>
												<option value="Physics">Physics</option>
												<option value="Chemistry">Chemistry</option>
												<option value="Biology">Biology</option>
												<option value="Geography">Geography</option>
												<option value="Literature">Literature</option>
												<option value="History">History</option>
												<option value="Philosophy">Philosophy</option>
												<option value="Politics">Politics</option>
												<option disabled value="Entertainments">Entertainments</option>
												<option value="Movies-Films-Manga">Movies/Films/Manga</option>
												<option value="TVShows">TV Shows</option>
												<option value="Drama">Drama</option>
												<option value="Pets-Petting">Pets/Petting</option>
												<option disabled value="Technology">Technology</option>
												<option value="Information-Technology">Information Technology (IT)</option>
												<option value="Electronics">Electronics</option>
												<option value="Artificial-Intelligence">Artificial Intelligence (AI)</option>
												<option value="High-tech">High-tech</option>
												<option disabled value="Sports">Sports</option>
												<option value="Football">Football</option>
												<option value="Volleyball">Volleyball</option>
												<option value="Basketball">Basketball</option>
												<option value="Baseball">Baseball</option>
												<option value="Tennis">Tennis</option>
												<option value="Badminton">Badminton</option>
												<option value="Golf">Golf</option>
												<option value="Athletics">Athletics</option>
												<option value="Racing">Racing</option>
												<option value="Gym">Gym</option>
												<option value="Yoga">Yoga</option>
												<option value="Meditation">Meditation</option>
												<option disabled value="Housework">Housework</option>
												<option value="Food-Cuisine">Food/Cuisine</option>
												<option value="Handicraft">Handicraft (Handmade)</option>
												<option value="Pets">Pets</option>
												<option disabled value="Art">Art</option>
												<option value="Architecture">Architecture</option>
												<option value="Music">Music</option>
												<option value="Sculpture">Sculpture</option>
												<option value="Painting">Painting</option>
												<option value="Poetry">Poetry</option>
												<option value="Singing">Singing</option>
												<option value="Dancing">Dancing</option>
												<option value="Photography">Photography</option>
												<option value="Fashion">Fashion</option>
												<option value="Magic">Magic</option>
												<option value="Design">Design</option>
												<option disabled value="Economics">Economics</option>
												<option value="Banking">Banking</option>
												<option value="Stock">Stock</option>
												<option value="Real-estate">Real estate</option>
												<option value="Commerce">Commerce</option>
												<option disabled value="Martial Arts">Martial Arts</option>
												<option value="MMA">MMA</option>
												<option value="Chinese Martial Art">Chinese Martial Art</option>
												<option value="Taekwondo">Taekwondo</option>
												<option value="Boxing">Boxing</option>
												<option value="Judo">Judo</option>
												<option value="Jujutsu">Jujutsu</option>
												<option value="Muay-Thai">Muay Thai</option>
												<option value="Brazilian-Jujutsu">Brazilian Jujutsu</option>
												<option value="Kickboxing">Kickboxing</option>
												<option value="Aikido">Aikido</option>
												<option value="Jeet-Kune-Do">Jeet Kune Do</option>
												<option value="Wing-Chun">Wing Chun</option>
												<option value="Tai-Chi">Tai Chi</option>
												<option value="Krav-Maga">Krav Maga</option>
												<option value="Shaolin-Kungfu">Shaolin Kungfu</option>
												<option disabled value="Games">Games</option>
												<option value="Fortnite">Fortnite</option>
												<option value="PlayerUnknown-Battlegrounds">PlayerUnknown's Battlegrounds (PUBG)</option>
												<option value="PUBG-Mobile">PUBG Mobile</option>
												<option value="DOTA2">DOTA2</option>
												<option value="Counter-Strike">Counter-Strike (CS)</option>
												<option value="Hitman-2">Hitman 2</option>
												<option value="Monster-Hunter">Monster Hunter</option>
												<option value="League-of-Legends">League of Legends (LOL)</option>
												<option value="Grand-Theft-Auto">Grand Theft Auto (GTA)</option>
												<option value="Warframe">Warframe</option>
												<option value="AOE">Age of Empires (AOE)</option>
												<option value="PES">PES</option>
												<option value="FIFA">FIFA</option>
												<option value="Clash-of-Clans">Clash of Clans</option>
												<option value="Overwatch">Overwatch</option>
												<option value="Call-of-Duty">Call of Duty</option>
												<option value="Garena-Free-Fire">Garena Free Fire</option>
												<option value="Age-of-Wulin">Cửu Âm Chân Kinh - Age of Wulin</option>
												<option value="NKGH">Nhất Kiếm Giang Hồ</option>
												<option value="TLBB">Thiên Long Bát Bộ</option>
												<option value="VL1">Võ lâm 1</option>
												<option value="VL2">Võ lâm 2</option>
												<option value="VL3">Võ lâm 3</option>
												<option value="TSKH">Thục Sơn Kỳ Hiệp</option>
												<option value="LH">Liệt Hỏa</option>
											</select>
										</div>
										<!-- Textarea -->
										<div class="sun_input col-lg-12">
											<textarea class="form-control" id="about" name="about" cols="20" rows="3" placeholder="About me">@Model.AboutMe</textarea>
											<label class="plr15" for="about">About me</label>
										</div>
										<!-- Text input-->
										<div class="sun_input col-lg-12">
											<input id="pac-input" class="controls form-control input-md" type="text" placeholder="Search Box">
											<div id="map" style="height: 400px;"></div>
											<div id="lat_location" class="hidden" value=""></div>
											<div id="lng_location" class="hidden" value=""></div>
										</div>
										<!-- Text input-->
									</div>

									<hr>

									<div class="setting-panel row">
										<!-- Select Basic -->

									</div>

									<!-- Select Basic -->


									<div class="form-group">
										<input style="margin-left: 45px;" type="button" class="btn btn-main setting-panel-mdbtn" onclick="Save()" value="Save">
									</div>
									<input type="hidden" name="user_id" value="@Model.ID">
								</form>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
@section scripts {
	<script>
	function Save() {
		if ($("#old_password").val() =="") {
			EngnestFlash.error("Input Password!");
			return;
		}
		if ($("#new_password").val() != $("#repeat_new_password").val()) {
			EngnestFlash.error("Wrong confirm password!");
			return;
		}
		if ($("#your_name").val().length < 4) {
				EngnestFlash.error("Your name must contain at least 4 character!");
				return;
			}
		$.ajax({
			url: "/Profile/Update",
			type: "POST",
			data: {
					Email: $("#email").val(),
					NewPassword: $("#new_password").val(),
					OldPassword: $("#old_password").val(),
					Phone: $("#phone").val(),
					Birthday: $("#birthday").val(),
					Country: $("#country").val(),
					Gender: $("#gender").val(),
					NickName: $("#your_name").val(),
					Relationship: $("#relationship").val(),
					AboutMe: $("#about").val(),
					Lat: $("#lat_location").val(),
				Lng: $("#lng_location").val(),
				Category: $("#Hobbyist").val().join(',')
				},
			dataType: "json",
			success: function (result) {
				if (result.result == @Constant.SUCCESS) {
					EngnestFlash.notice("Done!");
				}
				else
					EngnestFlash.error(result.message);
			},
			error: function (data) {
				EngnestFlash.error("Error!");
			}
		});
	}
	</script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.js"></script>
	<script type="text/javascript">
	$(function () {
			var Category = '@Model.Category';
		$("#Hobbyist option").each((index,item) => {
			if (Category.includes($(item).val())) {
				$(item).attr("selected","selected");
			};
		});
			$('.ui.normal.dropdown')
				.dropdown({
				  search:true
			  })
		$("#country").val("@Model.Country");
		$("#gender").val("@Model.Gender");
		$("#relationship").val("@Model.Relationship");
			var curentdate = new Date();
			$("#birthday").datepicker({
				changeMonth: true,
				changeYear: true,
				defaultViewDate: { year: curentdate.getFullYear() - 18, month: 04, day: 25 },
				format: "dd/mm/yyyy",
				endDate: "+0d",
				startDate: '-100y'
			});
		});
	</script>
	<script>
		var marker;
		var lat = 21.027444;
		if ("@Model.Lat" != "")
			lat = parseFloat("@Model.Lat");
		var lng = 105.82386;
		if ("@Model.Lng" != "")
			lng =parseFloat("@Model.Lng");
		function initMap() {
			var map = new google.maps.Map(document.getElementById('map'), {
				zoom: 14,
				center: { lat: lat, lng: lng },
				mapTypeId: 'roadmap'
			});

			marker = new google.maps.Marker({
				map: map,
				draggable: true,
				animation: google.maps.Animation.DROP,
				position: { lat: lat, lng: lng }
			});
			marker.addListener('dragend', toggleBounce);
			 // Create the search box and link it to the UI element.
        var input = document.getElementById('pac-input');
        var searchBox = new google.maps.places.SearchBox(input);
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);

        // Bias the SearchBox results towards current map's viewport.
        map.addListener('bounds_changed', function() {
          searchBox.setBounds(map.getBounds());
        });

        var markers = [];
        // Listen for the event fired when the user selects a prediction and retrieve
        // more details for that place.
        searchBox.addListener('places_changed', function() {
          var places = searchBox.getPlaces();
          if (places.length == 0) {
            return;
          }
          // Clear out the old markers.
			  var latlng = new google.maps.LatLng(places[0].geometry.location.lat(), places[0].geometry.location.lng());
			marker.setPosition(latlng);
          // For each place, get the icon, name and location.
			var bounds = new google.maps.LatLngBounds();
			bounds.extend(latlng);
			map.fitBounds(bounds);
			map.setZoom(14);
        });
	}

		function toggleBounce() {
			if (marker.getAnimation() !== null) {
				marker.setAnimation(null);
			} else {
				marker.setAnimation(google.maps.Animation.BOUNCE);
			}
			$("#lat_location").val(marker.position.lat());
			$("#lng_location").val(marker.position.lng());
		}


	</script>
	<script async defer
			src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCgYrdIxxAhSV56bGt0W0Qe-ekmPO0rjNw&libraries=places&callback=initMap">
	</script>
}